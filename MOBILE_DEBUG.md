# 移动端调试指南

## 已修复的移动端问题

### 1. 音频播放问题
- ✅ 添加了 `playsInline` 属性，防止iOS Safari全屏播放
- ✅ 添加了 `webkit-playsinline="true"` 兼容性支持
- ✅ 添加了 `controls={false}` 隐藏原生控件
- ✅ 优化了移动端音频加载策略

### 2. UI显示问题
- ✅ 添加了移动端专用的CSS样式
- ✅ 优化了进度条在移动端的显示
- ✅ 添加了触摸优化样式
- ✅ 防止移动端缩放和选择文本

### 3. 移动端meta标签优化
- ✅ 添加了 `user-scalable=no` 防止缩放
- ✅ 添加了 `apple-mobile-web-app-capable` 支持
- ✅ 添加了状态栏样式配置

## 移动端测试步骤

### 1. 本地测试
```bash
npm run build
npm run preview
```
然后在手机浏览器中访问 `http://你的IP:4173`

### 2. 部署后测试
1. 确保音频文件正确部署到 `/audio/心经.mp3`
2. 检查浏览器控制台是否有错误
3. 测试用户交互是否正常触发音频播放

### 3. 常见问题排查

#### 问题：音频不播放
**可能原因：**
- 移动端浏览器需要用户交互才能播放音频
- 音频文件路径不正确
- 网络问题导致音频加载失败

**解决方案：**
1. 确保用户点击了"点击开始"按钮
2. 检查音频文件是否正确部署
3. 查看浏览器控制台错误信息

#### 问题：UI不显示
**可能原因：**
- CSS样式在移动端不兼容
- 触摸事件被阻止

**解决方案：**
1. 检查CSS样式是否正确加载
2. 确保触摸事件正常响应

### 4. 调试工具

#### 浏览器开发者工具
1. 在电脑上打开Chrome开发者工具
2. 点击设备模拟器图标
3. 选择移动设备进行测试

#### 真机测试
1. 使用手机浏览器访问部署地址
2. 打开浏览器开发者工具（如果支持）
3. 查看控制台错误信息

## 部署检查清单

- [ ] 音频文件已正确部署到 `/audio/` 目录
- [ ] 构建产物包含所有必要文件
- [ ] Vercel配置正确
- [ ] 移动端meta标签已添加
- [ ] CSS样式包含移动端优化

## 性能优化建议

1. **音频文件优化**
   - 使用适当的音频格式（MP3）
   - 控制文件大小
   - 考虑使用CDN加速

2. **加载优化**
   - 预加载关键资源
   - 使用适当的缓存策略
   - 优化首屏加载时间

3. **用户体验优化**
   - 添加加载指示器
   - 优化触摸交互
   - 提供错误处理机制
